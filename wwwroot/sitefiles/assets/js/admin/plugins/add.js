var $url="/plugins/add",data=utils.init({version:null,packageIds:null,containerized:null,q:utils.getQueryString("q"),keyword:utils.getQueryString("q")||"",plugins:null}),methods={getIconUrl:function(t){return cloud.hostStorage+"/"+t},getTagNames:function(t){var e=[];return t.tags&&(e=t.tags.split(",")),e},apiGet:function(){var t=this;$api.get($url).then(function(e){var n=e.data;t.version=n.version,t.packageIds=n.packageIds,t.containerized=n.containerized;var i=e.headers.server;if(t.containerized||i&&"Kestrel"!==i)cloud.getPlugins(t.keyword).then(function(e){var n=e.data;t.plugins=n}).catch(function(t){utils.error(t)}).then(function(){utils.loading(t,!1)});else{var a=cloud.getDocsUrl("getting-started/deploy.html");utils.error('页面加载失败，SSCMS 插件需要在进程管理器（Nginx、Apache、IIS、Windows 服务）中运行，请参考文档 <a href="'+a+'" target="_blank">托管和部署</a>',{redirect:!0})}}).catch(function(t){utils.error(t)})},getLatestVersion:function(t){return t.latestStableVersion},getLatestPublished:function(t){return t.latestStablePublished},btnSearchClick:function(){location.href="?q="+this.keyword},btnUploadClick:function(){utils.openLayer({title:"离线安装插件",url:utils.getPluginsUrl("addLayerUpload"),width:550,height:350})},btnViewClick:function(t){utils.addTab("插件："+t.pluginId,utils.getPluginsUrl("view",{pluginId:t.pluginId}))}},$vue=new Vue({el:"#main",data:data,methods:methods,created:function(){this.apiGet()}});