var $url="/settings/sitesTables",data=utils.init({pageType:null,tableNames:null,nameDict:null,tableName:null,columns:null,count:null}),methods={getTables:function(){var t=this;utils.loading(this,!0),$api.get($url).then(function(n){var a=n.data;t.tableNames=a.value,t.nameDict=a.nameDict}).catch(function(t){utils.error(t)}).then(function(){utils.loading(t,!1)})},btnColumnsClick:function(t){var n=this;utils.loading(this,!0),$api.get($url+"/"+t).then(function(a){var e=a.data;n.pageType="columns",n.tableName=t,n.columns=e.columns,n.count=e.count}).catch(function(t){utils.error(t)}).then(function(){utils.loading(n,!1)})},btnCancelClick:function(){this.pageType="tables",this.tableName=null},btnRemoveCacheClick:function(){var t=this;utils.loading(this,!0),$api.post($url+"/"+this.tableName+"/actions/removeCache").then(function(n){var a=n.data;t.pageType="columns",t.columns=a.columns,t.count=a.count,utils.success("内容表缓存清除成功！")}).catch(function(t){utils.error(t)}).then(function(){utils.loading(t,!1)})}},$vue=new Vue({el:"#main",data:data,methods:methods,created:function(){this.getTables()}});