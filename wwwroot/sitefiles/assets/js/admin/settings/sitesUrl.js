var $url="/settings/sitesUrl",data=utils.init({pageType:null,sites:null,editPanel:!1,editForm:null,editLoading:!1,editRules:{separatedWebUrl:[{required:!0,message:"独立部署站点访问地址",trigger:"blur"}],assetsDir:[{required:!0,message:"上传文件存储文件夹",trigger:"blur"}],separatedAssetsUrl:[{required:!0,message:"独立部署上传文件访问地址",trigger:"blur"}]}}),methods={apiGet:function(){var t=this;$api.get($url).then(function(e){var i=e.data;t.sites=i.sites}).catch(function(t){utils.error(t)}).then(function(){utils.loading(t,!1)})},btnEditClick:function(t){var e=t;this.editForm={siteId:e.id,siteName:e.siteName,isSeparatedWeb:e.isSeparatedWeb,separatedWebUrl:e.separatedWebUrl,isSeparatedAssets:e.isSeparatedAssets,assetsDir:e.assetsDir,separatedAssetsUrl:e.separatedAssetsUrl},this.editPanel=!0},btnEditCancelClick:function(){this.editPanel=!1,this.editLoading=!1},btnEditSubmitClick:function(){var t=this;this.$refs.editForm.validate(function(e){e&&(t.editLoading=!0,t.apiEdit())})},apiEdit:function(){var t=this;$api.put($url,this.editForm).then(function(e){var i=e.data;t.sites=i.sites,t.editPanel=!1}).catch(function(t){utils.error(t)}).then(function(){t.editLoading=!1})}},$vue=new Vue({el:"#main",data:data,methods:methods,created:function(){this.apiGet()}});