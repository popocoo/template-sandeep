var $url="/settings/sitesTemplatesOnline",data=utils.init({siteAddPermission:!1,page:utils.getQueryInt("page",1),word:utils.getQueryString("word"),tag:utils.getQueryString("tag"),price:utils.getQueryString("price"),order:utils.getQueryString("order"),templates:null,count:null,pages:null,allTagNames:[]}),methods={apiGet:function(){var t=this;$api.get($url).then(function(e){var i=e.data;t.siteAddPermission=i.siteAddPermission}).catch(function(t){utils.error(t)}).then(function(){utils.loading(t,!1),t.load()})},load:function(){var t=this;utils.loading(this,!0),cloud.getTemplates(this.page,this.word,this.tag,this.price,this.order).then(function(e){var i=e.data;t.templates=i.value,t.count=i.count,t.pages=i.pages,t.allTagNames=i.allTagNames}).catch(function(t){utils.error(t)}).then(function(){utils.loading(t,!1)})},getDisplayUrl:function(t){return cloud.getTemplatesUrl("template.html?id="+t)},btnImageClick:function(t){window.open(this.getDisplayUrl(t))},btnPreviewClick:function(t){window.open(cloud.hostDemo+"/"+t.toLowerCase()+"/")},btnCreateClick:function(t){location.href=utils.getSettingsUrl("sitesAdd",{type:"submit",createType:"cloud",createTemplateId:t})},getPageUrl:function(t){return t<1||t>this.pages||t==this.page?"javascript:;":this.getUrl(t,this.word,this.tag,this.price,this.order)},getTagUrl:function(t){return this.getUrl(this.page,this.word,t,this.price,this.order)},getPriceUrl:function(t){return this.getUrl(this.page,this.word,this.tag,t,this.order)},getOrderUrl:function(t){return this.getUrl(this.page,this.word,this.tag,this.price,t)},btnRedirectClick:function(t){location.href=t},handlePageChange:function(t){location.href=this.getPageUrl(t)},getUrl:function(t,e,i,r,n){var a="?type=selectCloud&page="+t;return e&&(a+="&word="+e),i&&(a+="&tag="+i),r&&(a+="&price="+r),n&&(a+="&order="+n),a},priceChanged:function(){this.load()},orderChanged:function(){this.load()}},$vue=new Vue({el:"#main",data:data,methods:methods,created:function(){this.apiGet()}});