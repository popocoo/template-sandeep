var $url="/settings/usersConfig",data=utils.init({form:{isUserRegistrationAllowed:null,isUserRegistrationChecked:null,isUserUnRegistrationAllowed:null,userPasswordMinLength:null,userPasswordRestriction:null,userRegistrationMinMinutes:null,isUserLockLogin:null,userLockLoginCount:null,userLockLoginType:null,userLockLoginHours:null,userFindPasswordSmsTplId:null}}),methods={apiGet:function(){var s=this;utils.loading(this,!0),$api.get($url).then(function(i){var o=i.data;s.form.isUserRegistrationAllowed=o.config.isUserRegistrationAllowed,s.form.isUserRegistrationChecked=o.config.isUserRegistrationChecked,s.form.isUserUnRegistrationAllowed=o.config.isUserUnRegistrationAllowed,s.form.userPasswordMinLength=o.config.userPasswordMinLength,s.form.userPasswordRestriction=o.config.userPasswordRestriction,s.form.userRegistrationMinMinutes=o.config.userRegistrationMinMinutes,s.form.isUserLockLogin=o.config.isUserLockLogin,s.form.userLockLoginCount=o.config.userLockLoginCount,s.form.userLockLoginType=o.config.userLockLoginType,s.form.userLockLoginHours=o.config.userLockLoginHours,s.form.userFindPasswordSmsTplId=o.config.userFindPasswordSmsTplId}).catch(function(s){utils.error(s)}).then(function(){utils.loading(s,!1)})},apiSubmit:function(){var s=this;utils.loading(this,!0),$api.post($url,{isUserRegistrationAllowed:this.form.isUserRegistrationAllowed,isUserRegistrationChecked:this.form.isUserRegistrationChecked,isUserUnRegistrationAllowed:this.form.isUserUnRegistrationAllowed,userPasswordMinLength:this.form.userPasswordMinLength,userPasswordRestriction:this.form.userPasswordRestriction,userRegistrationMinMinutes:this.form.userRegistrationMinMinutes,isUserLockLogin:this.form.isUserLockLogin,userLockLoginCount:this.form.userLockLoginCount,userLockLoginType:this.form.userLockLoginType,userLockLoginHours:this.form.userLockLoginHours,userFindPasswordSmsTplId:this.form.userFindPasswordSmsTplId}).then(function(s){s.data;utils.success("用户设置保存成功！")}).catch(function(s){utils.error(s)}).then(function(){utils.loading(s,!1)})},getPasswordRestrictionText:function(s){return"LetterAndDigit"===s?"字母和数字组合":"LetterAndDigitAndSymbol"===s?"字母、数字以及符号组合":"不限制"},btnSubmitClick:function(){var s=this;this.$refs.form.validate(function(i){i&&s.apiSubmit()})}},$vue=new Vue({el:"#main",data:data,methods:methods,created:function(){this.apiGet()}});